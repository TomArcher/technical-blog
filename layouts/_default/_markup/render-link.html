{{- $dest := .Destination -}}
{{- $base := site.BaseURL -}}
{{- $isAbs := or (hasPrefix $dest "http://") (hasPrefix $dest "https://") -}}
{{- $isExternal := and $isAbs (not (hasPrefix $dest $base)) -}}
<a href="{{ .Destination | safeURL }}"
  {{- if $isExternal }} target="_blank" rel="noopener noreferrer"{{ end -}}
  {{ with .Title }} title="{{ . }}"{{ end }}>
  {{ .Text | safeHTML }}
</a>
